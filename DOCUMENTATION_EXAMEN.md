# ğŸ“‹ DOCUMENTATION TECHNIQUE - GESTION TAXI-BROUSSE

## PROJET : Mme Baovola - ITU S5

---

# 1. MCD COMPLET

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                        MODÃˆLE CONCEPTUEL DE DONNÃ‰ES                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    PERSONNES    â”‚                          â”‚  UTILISATEURS   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ * id            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ * id            â”‚
â”‚   nom           â”‚     1,1          0,1     â”‚   personne_id   â”‚
â”‚   prenom        â”‚                          â”‚   email         â”‚
â”‚   contact       â”‚                          â”‚   mot_de_passe  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                                                                       â”‚
        â–¼ 1,1               â–¼ 1,1                                                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                            â”‚
â”‚    CLIENTS      â”‚  â”‚   CHAUFFEURS    â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                            â”‚
â”‚ * id            â”‚  â”‚ * id            â”‚                                                            â”‚
â”‚   personne_id   â”‚  â”‚   personne_id   â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                            â”‚
        â”‚                   â”‚                                                                       â”‚
        â”‚ 1,n               â”‚ 1,n                                                                   â”‚
        â–¼                   â–¼                                                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚                         VOYAGES                             â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                     â”‚
â”‚ * id                                                        â”‚                                     â”‚
â”‚   taxi_brousse_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   chauffeur_id                                              â”‚      â”‚     TAXI_BROUSSES       â”‚   â”‚
â”‚   trajet_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   date_depart                                         â”‚     â”‚      â”‚ * id                    â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   immatriculation       â”‚   â”‚
        â”‚                                               â”‚            â”‚   categorie_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ 0,n                                           â”‚ 0,n        â”‚   nbr_places            â”‚   â”‚   â”‚  CATEGORIES_TB  â”‚
        â–¼                                               â”‚            â”‚   charge_max            â”‚   â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚            â”‚   consommation          â”‚   â”‚   â”‚ * id            â”‚
â”‚              RESERVATIONS                   â”‚         â”‚            â”‚   disposition_places    â”‚   â”‚   â”‚   nom           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ * id                                        â”‚         â”‚                       â”‚                  â”‚
â”‚   voyage_id                                 â”‚         â”‚                       â”‚ 1,n              â”‚
â”‚   client_id                                 â”‚         â”‚                       â–¼                  â”‚
â”‚   montant_total                             â”‚         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   date_reservation                          â”‚         â”‚            â”‚   CATEGORIES_PLACES     â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
        â”‚                                               â”‚            â”‚ * id                    â”‚   â”‚
        â”‚ 1,n                                           â”‚            â”‚   taxi_brousse_id       â”‚   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚   type                  â”‚   â”‚
        â”‚                                               â”‚            â”‚   nbr_places_type       â”‚   â”‚
        â–¼                                               â”‚            â”‚   prix_par_type         â”‚   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚          DETAILS_RESERVATIONS               â”‚         â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚                                          â”‚
â”‚ * id                                        â”‚         â”‚ 1,1                                      â”‚
â”‚   reservation_id                            â”‚         â–¼                                          â”‚
â”‚   numero_place                              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   personne_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  â”‚        TRAJETS          â”‚                       â”‚
â”‚   type_place                                â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
â”‚   is_enfant                                 â”‚  â”‚ * id                    â”‚                       â”‚
â”‚   passager_categorie                        â”‚  â”‚   nom                   â”‚                       â”‚
â”‚   prix_unitaire                             â”‚  â”‚   distance              â”‚                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
        â”‚                                               â”‚                                          â”‚
        â”‚                                               â”‚ 1,n                                      â”‚
        â”‚                                               â–¼                                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚              PAIEMENTS                      â”‚  â”‚     TRAJET_DETAILS      â”‚   â”‚     ARRETS      â”‚ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ * id                                        â”‚  â”‚ * id                    â”‚   â”‚ * id            â”‚ â”‚
â”‚   reservation_id                            â”‚  â”‚   trajet_id             â”‚â—„â”€â”€â”¤   nom           â”‚ â”‚
â”‚   montant_paye                              â”‚  â”‚   arret_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¤   est_gare      â”‚ â”‚
â”‚   date_paiement                             â”‚  â”‚   ordre                 â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
                                                        â”‚                                          â”‚
                                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â”‚ 0,n
                                               â–¼
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚     TARIFS_PLACES       â”‚
                                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                        â”‚ * id                    â”‚
                                        â”‚   trajet_id             â”‚
                                        â”‚   type_place            â”‚
                                        â”‚   montant               â”‚
                                        â”‚   date_effective        â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              MODULE PUBLICITÃ‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ANNONCEURS         â”‚       â”‚    DIFFUSIONS_PUBLICITAIRES     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ * id                    â”‚â—„â”€â”€â”€â”€â”€â”€â”¤ * id                            â”‚
â”‚   nom                   â”‚  1,n  â”‚   annonceur_id                  â”‚
â”‚   contact               â”‚       â”‚   prix_unitaire                 â”‚
â”‚   created_at            â”‚       â”‚   note                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   created_at                    â”‚
        â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                   â”‚
        â”‚ 0,n                               â”‚ 1,n
        â–¼                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PAIEMENTS_ANNONCEURS   â”‚       â”‚      DETAILS_DIFFUSION          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ * id                    â”‚       â”‚ * id                            â”‚
â”‚   annonceur_id          â”‚       â”‚   diffusion_publicitaire_id     â”‚
â”‚   montant_paye          â”‚       â”‚   voyage_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â–º VOYAGES
â”‚   date_paiement         â”‚       â”‚   nb_diffusions                 â”‚
â”‚   created_at            â”‚       â”‚   montant_total                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   date_diffusion                â”‚
                                  â”‚   created_at                    â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              MODULE PRODUITS EXTRA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       PRODUITS          â”‚       â”‚       PRIX_PRODUITS             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ * id                    â”‚â—„â”€â”€â”€â”€â”€â”€â”¤ * id                            â”‚
â”‚   libelle               â”‚  1,n  â”‚   produit_id                    â”‚
â”‚   created_at            â”‚       â”‚   prix                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   date_effective                â”‚
        â”‚                         â”‚   created_at                    â”‚
        â”‚ 0,n                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     VENTE_PRODUIT_DETAILS       â”‚       â”‚       VENTES_PRODUITS           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ * id                            â”‚â—„â”€â”€â”€â”€â”€â”€â”¤ * id                            â”‚
â”‚   vente_id                      â”‚  1,n  â”‚   date_vente                    â”‚
â”‚   produit_id                    â”‚       â”‚   created_at                    â”‚
â”‚   quantite                      â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   prix_unitaire                 â”‚                  â”‚
â”‚   created_at                    â”‚                  â”‚ 0,n
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â–¼
                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                          â”‚     PAIEMENTS_PRODUITS          â”‚
                                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                          â”‚ * id                            â”‚
                                          â”‚   vente_id                      â”‚
                                          â”‚   montant_paye                  â”‚
                                          â”‚   date_paiement                 â”‚
                                          â”‚   created_at                    â”‚
                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              TABLE CONFIGURATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    CONFIGURATIONS       â”‚       â”‚          FRAIS                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ * id                    â”‚       â”‚ * id                            â”‚
â”‚   cle                   â”‚       â”‚   trajet_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â–º TRAJETS
â”‚   valeur                â”‚       â”‚   categorie_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â–º CATEGORIES_TB
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   montant                       â”‚
                                  â”‚   date_effective                â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 2. LISTE DES CLASSES COMPLÃˆTES (SANS ATTRIBUT)

## 2.1 EntitÃ©s (Entity)

| # | Classe | Package | Table correspondante |
|---|--------|---------|---------------------|
| 1 | `Personne` | `entity` | personnes |
| 2 | `Utilisateur` | `entity` | utilisateurs |
| 3 | `Client` | `entity` | clients |
| 4 | `Chauffeur` | `entity` | chauffeurs |
| 5 | `Arret` | `entity` | arrets |
| 6 | `Trajet` | `entity` | trajets |
| 7 | `TrajetDetail` | `entity` | trajet_details |
| 8 | `CategorieTb` | `entity` | categories_tb |
| 9 | `TaxiBrousse` | `entity` | taxi_brousses |
| 10 | `CategoriePlace` | `entity` | categories_places |
| 11 | `TarifPlace` | `entity` | tarifs_places |
| 12 | `Frais` | `entity` | frais |
| 13 | `Voyage` | `entity` | voyages |
| 14 | `Reservation` | `entity` | reservations |
| 15 | `DetailsReservation` | `entity` | details_reservations |
| 16 | `Paiement` | `entity` | paiements |
| 17 | `Configuration` | `entity` | configurations |
| 18 | `SocietePublicitaire` | `entity` | annonceurs |
| 19 | `DiffusionPublicitaire` | `entity` | diffusions_publicitaires |
| 20 | `DetailsDiffusion` | `entity` | details_diffusion |
| 21 | `PaiementAnnonceur` | `entity` | paiements_annonceurs |
| 22 | `Produit` | `entity` | produits |
| 23 | `PrixProduit` | `entity` | prix_produits |
| 24 | `VenteProduit` | `entity` | ventes_produits |
| 25 | `VenteProduitDetail` | `entity` | vente_produit_details |
| 26 | `PaiementProduit` | `entity` | paiements_produits |
| 27 | `PassengerCategory` | `entity` | (enum) |

## 2.2 Repositories

| # | Classe | Package |
|---|--------|---------|
| 1 | `PersonneRepository` | `repository` |
| 2 | `UtilisateurRepository` | `repository` |
| 3 | `ClientRepository` | `repository` |
| 4 | `ChauffeurRepository` | `repository` |
| 5 | `ArretRepository` | `repository` |
| 6 | `TrajetRepository` | `repository` |
| 7 | `TrajetDetailRepository` | `repository` |
| 8 | `CategorieTbRepository` | `repository` |
| 9 | `TaxiBrousseRepository` | `repository` |
| 10 | `CategoriePlaceRepository` | `repository` |
| 11 | `TarifPlaceRepository` | `repository` |
| 12 | `FraisRepository` | `repository` |
| 13 | `VoyageRepository` | `repository` |
| 14 | `ReservationRepository` | `repository` |
| 15 | `DetailsReservationRepository` | `repository` |
| 16 | `PaiementRepository` | `repository` |
| 17 | `SocietePublicitaireRepository` | `repository` |
| 18 | `DiffusionPublicitaireRepository` | `repository` |
| 19 | `DetailsDiffusionRepository` | `repository` |
| 20 | `PaiementAnnonceurRepository` | `repository` |
| 21 | `ProduitRepository` | `repository` |
| 22 | `PrixProduitRepository` | `repository` |
| 23 | `VenteProduitRepository` | `repository` |
| 24 | `VenteProduitDetailRepository` | `repository` |
| 25 | `PaiementProduitRepository` | `repository` |

## 2.3 Controllers

| # | Classe | Package |
|---|--------|---------|
| 1 | `HomeController` | `controller` |
| 2 | `PersonneController` | `controller` |
| 3 | `ClientController` | `controller` |
| 4 | `ChauffeurController` | `controller` |
| 5 | `ArretController` | `controller` |
| 6 | `TrajetController` | `controller` |
| 7 | `TaxiBrousseController` | `controller` |
| 8 | `VoyageController` | `controller` |
| 9 | `ReservationController` | `controller` |
| 10 | `PaiementController` | `controller` |
| 11 | `PubliciteController` | `controller` |
| 12 | `ProduitController` | `controller` |
| 13 | `VenteProduitController` | `controller` |
| 14 | `ReportsController` | `controller` |

## 2.4 Services

| # | Classe | Package |
|---|--------|---------|
| 1 | `PubliciteService` | `service` |
| 2 | `ProduitService` | `service` |
| 3 | `VenteProduitService` | `service` |

## 2.5 DTOs

| # | Classe | Package |
|---|--------|---------|
| 1 | `CaResponseDto` | `dto` |
| 2 | `SocieteCaDto` | `dto` |
| 3 | `AnnonceurDetailsDto` | `dto` |
| 4 | `AnnonceurProrataDto` | `dto` |
| 5 | `DiffusionProrataDto` | `dto` |

---

# 3. PAR FONCTIONNALITÃ‰ DEMANDÃ‰E

---

## 3.1 FONCTIONNALITÃ‰ : GESTION DES RÃ‰SERVATIONS

### 3.1.1 Dessin d'Ã©cran - Liste des rÃ©servations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [MENU]                    LISTE DES RÃ‰SERVATIONS                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  ğŸ” Recherche: [________________________]  [+ Nouvelle RÃ©servation] [ğŸ” Voyage] â”‚
â”‚                                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ID â”‚     CLIENT      â”‚      VOYAGE      â”‚   MONTANT   â”‚   DATE   â”‚ ACTIONS  â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚  1 â”‚ RAKOTO Jean     â”‚ TANA-MAHAJANGA   â”‚ 150 000 Ar  â”‚ 14/01/26 â”‚ [âœï¸][ğŸ—‘ï¸] â”‚â”‚
â”‚  â”‚    â”‚                 â”‚ 15/01 08:00      â”‚             â”‚          â”‚          â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚  2 â”‚ RABE Marie      â”‚ TANA-TOAMASINA   â”‚  85 000 Ar  â”‚ 14/01/26 â”‚ [âœï¸][ğŸ—‘ï¸] â”‚â”‚
â”‚  â”‚    â”‚                 â”‚ 15/01 06:00      â”‚             â”‚          â”‚          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.1.2 Dessin d'Ã©cran - Formulaire avec plan de siÃ¨ges

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         NOUVELLE RÃ‰SERVATION                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Voyage: [â–¼ TANA - MAHAJANGA | 15/01/2026 08:00 | 1234 TAB___________]          â”‚
â”‚  Client: [â–¼ RAKOTOARISOA Jean___________________________________________]       â”‚
â”‚  Date de rÃ©servation: [15/01/2026] [14:30]                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         PLAN DE SIÃˆGES             â”‚           LÃ‰GENDE                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   ğŸŸ¡ VIP       - 180 000 Ar                â”‚
â”‚    â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”     [CHAUFFEUR]    â”‚   ğŸŸ¢ PREMIUM   - 140 000 Ar                â”‚
â”‚    â”‚ X â”‚ â”‚ X â”‚                     â”‚   âšª STANDARD  -  80 000 Ar                â”‚
â”‚    â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜                     â”‚   âŒ RÃ‰SERVÃ‰                                â”‚
â”‚    â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”     â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”    â”‚                                             â”‚
â”‚    â”‚ğŸŸ¢â”‚ â”‚ğŸŸ¢â”‚     â”‚ğŸŸ¢â”‚ â”‚ğŸŸ¢â”‚    â”‚   RÃ‰DUCTIONS PAR CATÃ‰GORIE:                â”‚
â”‚    â”‚A1 â”‚ â”‚A2 â”‚     â”‚A3 â”‚ â”‚A4 â”‚    â”‚   â€¢ ADULTE   : Tarif plein                    â”‚
â”‚    â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜     â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜    â”‚   â€¢ ENFANT   : -50% (max 50 000 Ar)        â”‚
â”‚    â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”     â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”    â”‚   â€¢ SENIOR   : -20%                        â”‚
â”‚    â”‚âšªâ”‚ â”‚âšªâ”‚     â”‚âšªâ”‚ â”‚âšªâ”‚    â”‚   â€¢ JEUNE    : -10%                        â”‚
â”‚    â”‚B1 â”‚ â”‚B2 â”‚     â”‚B3 â”‚ â”‚B4 â”‚    â”‚   â€¢ Ã‰TUDIANT : -15%                        â”‚
â”‚    â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜     â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”     â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”    â”‚   PLACES SÃ‰LECTIONNÃ‰ES                      â”‚
â”‚    â”‚âŒâ”‚ â”‚âšªâ”‚     â”‚âšªâ”‚ â”‚âŒâ”‚    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚    â”‚C1 â”‚ â”‚C2 â”‚     â”‚C3 â”‚ â”‚C4 â”‚    â”‚   â”‚ Placeâ”‚ Type    â”‚ CatÃ©g.   â”‚ Prix      â”‚â”‚
â”‚    â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜     â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜    â”‚   â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚    â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”  â”‚   â”‚ A1   â”‚ PREMIUM â”‚[ADULTEâ–¼] â”‚ 140 000   â”‚â”‚
â”‚    â”‚âšªâ”‚ â”‚âšªâ”‚ â”‚âšªâ”‚ â”‚âšªâ”‚ â”‚âšªâ”‚  â”‚   â”‚ B2   â”‚ STANDARDâ”‚[ENFANTâ–¼] â”‚  40 000   â”‚â”‚
â”‚    â”‚D1 â”‚ â”‚D2 â”‚ â”‚D3 â”‚ â”‚D4 â”‚ â”‚D5 â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚    â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜  â”‚   TOTAL: 180 000 Ar                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              [Annuler]    [ğŸ’¾ Enregistrer]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.1.3 Signature des fonctions

| Fonction | Classe | Emplacement | Signature | Retour |
|----------|--------|-------------|-----------|--------|
| `list` | `ReservationController` | `controller` | `list(Model model, @RequestParam(name="q") String q)` | `String` |
| `createForm` | `ReservationController` | `controller` | `createForm(Model model, @RequestParam(name="voyageId") Long voyageId)` | `String` |
| `save` | `ReservationController` | `controller` | `save(Reservation reservation, @RequestParam String dateReservationStr, @RequestParam List<String> seatNumbers, @RequestParam List<String> seatChildFlags, @RequestParam List<String> seatCategorieFlags, @RequestParam Double montantPaye, RedirectAttributes ra)` | `String` |
| `editForm` | `ReservationController` | `controller` | `editForm(@PathVariable Long id, Model model)` | `String` |
| `delete` | `ReservationController` | `controller` | `delete(@PathVariable Long id, RedirectAttributes ra)` | `String` |
| `searchForm` | `ReservationController` | `controller` | `searchForm(Model model, Long departId, Long arriveeId, String date, String moment)` | `String` |
| `calculatePrixWithReduction` | `ReservationController` | `controller` | `calculatePrixWithReduction(BigDecimal basePrix, String type, PassengerCategory categorie, BigDecimal enfantStandardPrix)` | `BigDecimal` |
| `buildSeatMap` | `ReservationController` | `controller` | `buildSeatMap(String disposition, Set<String> reserved, List<CategoriePlace> categories, Map<String,BigDecimal> tarifs)` | `List<List<SeatView>>` |

### 3.1.4 Tables utilisÃ©es

| Table | Description |
|-------|-------------|
| `reservations` | Table principale |
| `details_reservations` | DÃ©tail des places rÃ©servÃ©es |
| `voyages` | RÃ©fÃ©rence voyage |
| `clients` | RÃ©fÃ©rence client |
| `paiements` | Paiements liÃ©s |

### 3.1.5 Vues utilisÃ©es

#### VUE 1 : Liste des rÃ©servations avec infos client/voyage

| Colonne | Description |
|---------|-------------|
| `id` | ID rÃ©servation |
| `client_nom` | Nom complet du client |
| `voyage_info` | Trajet + date dÃ©part |
| `montant_total` | Montant total |
| `date_reservation` | Date de rÃ©servation |

**Table principale:** `reservations`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `clients` | INNER JOIN | `reservations.client_id = clients.id` |
| `personnes` | INNER JOIN | `clients.personne_id = personnes.id` |
| `voyages` | INNER JOIN | `reservations.voyage_id = voyages.id` |
| `trajets` | INNER JOIN | `voyages.trajet_id = trajets.id` |
| `taxi_brousses` | INNER JOIN | `voyages.taxi_brousse_id = taxi_brousses.id` |

---

## 3.2 FONCTIONNALITÃ‰ : RECHERCHE DE VOYAGES DISPONIBLES

### 3.2.1 Dessin d'Ã©cran

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RECHERCHE DE VOYAGES                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸš ArrÃªt de dÃ©part:     [â–¼ ANTANANARIVO_____________________________]         â”‚
â”‚   ğŸ ArrÃªt d'arrivÃ©e:     [â–¼ MAHAJANGA________________________________]         â”‚
â”‚   ğŸ“… Date:                [15/01/2026________________________________]          â”‚
â”‚   ğŸ• Moment de la journÃ©e:                                                       â”‚
â”‚        (â—) Matin (05h-12h)   ( ) Midi (12h-14h)   ( ) Soir (14h-23h)            â”‚
â”‚                               [ğŸ” Rechercher]                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           RÃ‰SULTATS DE RECHERCHE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  TANA - MAHAJANGA | 15/01/2026 08:00                                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚    TAXI     â”‚   PLACES    â”‚   DISPONIBLES     â”‚       ACTION        â”‚  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚  â”‚  â”‚ 1234 TAB    â”‚   18        â”‚      12/18        â”‚  [ğŸ« RÃ©server]      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ (VIP)       â”‚             â”‚      (6 libres)   â”‚                     â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2.2 Signature des fonctions

| Fonction | Classe | Emplacement | Signature | Retour |
|----------|--------|-------------|-----------|--------|
| `searchForm` | `ReservationController` | `controller` | `searchForm(Model model, @RequestParam Long departId, @RequestParam Long arriveeId, @RequestParam String date, @RequestParam String moment)` | `String` |

### 3.2.3 Tables utilisÃ©es

| Table | Description |
|-------|-------------|
| `voyages` | Voyages disponibles |
| `trajets` | Trajets |
| `trajet_details` | ArrÃªts du trajet |
| `arrets` | Points d'arrÃªt |
| `taxi_brousses` | VÃ©hicules |
| `details_reservations` | Places dÃ©jÃ  rÃ©servÃ©es |

### 3.2.4 Vue utilisÃ©e

| Colonne | Description |
|---------|-------------|
| `voyage_id` | ID voyage |
| `trajet_nom` | Nom du trajet |
| `date_depart` | Date/heure dÃ©part |
| `immatriculation` | Immatriculation taxi |
| `categorie_nom` | CatÃ©gorie (VIP/Standard) |
| `nbr_places` | Nombre total places |
| `places_reservees` | Places dÃ©jÃ  rÃ©servÃ©es |
| `places_disponibles` | Places libres |

**Table principale:** `voyages`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `trajets` | INNER JOIN | `voyages.trajet_id = trajets.id` |
| `trajet_details` | INNER JOIN | `trajet_details.trajet_id = trajets.id` |
| `arrets` | INNER JOIN | `trajet_details.arret_id = arrets.id` |
| `taxi_brousses` | INNER JOIN | `voyages.taxi_brousse_id = taxi_brousses.id` |
| `reservations` | LEFT JOIN | `reservations.voyage_id = voyages.id` |
| `details_reservations` | LEFT JOIN | `details_reservations.reservation_id = reservations.id` |

---

## 3.3 FONCTIONNALITÃ‰ : RAPPORT CA GLOBAL (TICKETS + PUBLICITÃ‰ + PRODUITS)

### 3.3.1 Dessin d'Ã©cran

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RAPPORT CHIFFRE D'AFFAIRES GLOBAL                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PÃ©riode: Du [01/01/2026] Au [31/01/2026]  Trajet: [â–¼ Tous___]  [ğŸ” Filtrer]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              RÃ‰SUMÃ‰ GLOBAL                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸ« CA TICKETS:           15 000 000 Ar                                        â”‚
â”‚   ğŸ“º CA PUBLICITÃ‰:          5 000 000 Ar (PayÃ©: 3 200 000 | Reste: 1 800 000)  â”‚
â”‚   ğŸ›’ CA PRODUITS EXTRA:       250 000 Ar (PayÃ©: 200 000 | Reste: 50 000)       â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚   ğŸ’° CA TOTAL GLOBAL:      20 250 000 Ar                                        â”‚
â”‚   âœ… TOTAL ENCAISSÃ‰:       18 400 000 Ar                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    CA COMPLET PAR VOYAGE (Tickets + Pub)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ VOYAGE â”‚ GARE DÃ‰P. â”‚ GARE ARR. â”‚ CA TICK. â”‚  CA PUB  â”‚ PUB PAYÃ‰ â”‚  CA TOTAL â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚   1    â”‚ TANA      â”‚ MAHAJANGA â”‚1 500 000 â”‚  200 000 â”‚  160 000 â”‚ 1 700 000 â”‚â”‚
â”‚  â”‚   2    â”‚ TANA      â”‚ TOAMASINA â”‚  850 000 â”‚  150 000 â”‚  120 000 â”‚ 1 000 000 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    CA MAX vs CA RÃ‰EL (Taux de remplissage)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ VOYAGE â”‚   TAXI    â”‚      TRAJET      â”‚  CA MAX   â”‚  CA RÃ‰EL  â”‚ TAUX REMPL. â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚   1    â”‚ 1234 TAB  â”‚ TANA-MAHAJANGA   â”‚ 2 160 000 â”‚ 1 500 000 â”‚    69%      â”‚â”‚
â”‚  â”‚   2    â”‚ 5678 TBC  â”‚ TANA-TOAMASINA   â”‚ 1 320 000 â”‚   850 000 â”‚    64%      â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ TOTAL  â”‚           â”‚                  â”‚ 3 480 000 â”‚ 2 350 000 â”‚    68%      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3.2 Signature des fonctions

| Fonction | Classe | Emplacement | Signature | Retour |
|----------|--------|-------------|-----------|--------|
| `turnover` | `ReportsController` | `controller` | `turnover(Model model, @RequestParam LocalDate from, @RequestParam LocalDate to, @RequestParam Long trajetId)` | `String` |
| `findTurnoverByTaxiPerDay` | `ReservationRepository` | `repository` | `findTurnoverByTaxiPerDay(@Param("startInclusive") LocalDateTime start, @Param("endExclusive") LocalDateTime end)` | `List<TaxiDailyTurnoverRow>` |
| `findTurnoverByTrajet` | `ReservationRepository` | `repository` | `findTurnoverByTrajet(@Param("startInclusive") LocalDateTime start, @Param("endExclusive") LocalDateTime end, @Param("trajetId") Long trajetId)` | `List<TrajetTurnoverRow>` |
| `findVoyagesWithCAMax` | `VoyageRepository` | `repository` | `findVoyagesWithCAMax(@Param("startDate") LocalDateTime start, @Param("endDate") LocalDateTime end)` | `List<VoyageCAMaxView>` |
| `findVoyagesWithCAComplet` | `VoyageRepository` | `repository` | `findVoyagesWithCAComplet(@Param("startDate") LocalDateTime start, @Param("endDate") LocalDateTime end)` | `List<VoyageCACompletView>` |
| `getTotalCA` | `VenteProduitService` | `service` | `getTotalCA(LocalDate from, LocalDate to)` | `BigDecimal` |
| `getTotalCAPaye` | `VenteProduitService` | `service` | `getTotalCAPaye(LocalDate from, LocalDate to)` | `BigDecimal` |

### 3.3.3 Tables utilisÃ©es

| Table | Description |
|-------|-------------|
| `reservations` | CA Tickets |
| `voyages` | Voyages |
| `trajets` | Trajets |
| `taxi_brousses` | Taxis |
| `categories_places` | Prix par type de place |
| `tarifs_places` | Tarifs par trajet |
| `details_diffusion` | CA PublicitÃ© |
| `paiements_annonceurs` | Paiements pub reÃ§us |
| `ventes_produits` | Ventes extra |
| `paiements_produits` | Paiements produits |

### 3.3.4 Vue 1 : TaxiDailyTurnoverRow

| Colonne | Type | Description |
|---------|------|-------------|
| `taxiId` | Long | ID taxi |
| `immatriculation` | String | Immatriculation |
| `jour` | Date | Date |
| `total` | Double | CA du jour |

**Table principale:** `reservations`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `voyages` | JOIN | `reservations.voyage_id = voyages.id` |
| `taxi_brousses` | JOIN | `voyages.taxi_brousse_id = taxi_brousses.id` |

### 3.3.5 Vue 2 : VoyageCAMaxView

| Colonne | Type | Description |
|---------|------|-------------|
| `voyageId` | Long | ID voyage |
| `immatriculation` | String | Immatriculation |
| `trajetNom` | String | Nom trajet |
| `dateDepart` | LocalDateTime | Date dÃ©part |
| `caMax` | BigDecimal | CA potentiel max |
| `caReel` | BigDecimal | CA rÃ©alisÃ© |
| `tauxRemplissage` | Integer | % remplissage |

**Table principale:** `voyages`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `taxi_brousses` | JOIN | `voyages.taxi_brousse_id = taxi_brousses.id` |
| `trajets` | JOIN | `voyages.trajet_id = trajets.id` |
| `categories_places` | INNER JOIN | `categories_places.taxi_brousse_id = voyages.taxi_brousse_id` |
| `tarifs_places` | LEFT JOIN | `tarifs_places.trajet_id = voyages.trajet_id AND tarifs_places.type_place = categories_places.type` |
| `reservations` | LEFT JOIN (subquery) | `reservations.voyage_id = voyages.id` |

### 3.3.6 Vue 3 : VoyageCACompletView

| Colonne | Type | Description |
|---------|------|-------------|
| `voyageId` | Long | ID voyage |
| `gareDepart` | String | Gare de dÃ©part |
| `gareArrivee` | String | Gare d'arrivÃ©e |
| `immatriculation` | String | Immatriculation |
| `dateDepart` | LocalDateTime | Date dÃ©part |
| `caTickets` | BigDecimal | CA tickets |
| `caPub` | BigDecimal | CA publicitÃ© |
| `caPubPaye` | BigDecimal | CA pub payÃ© |
| `caPubRestant` | BigDecimal | CA pub restant |
| `caTotal` | BigDecimal | CA total |

**Table principale:** `voyages`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `taxi_brousses` | JOIN | `voyages.taxi_brousse_id = taxi_brousses.id` |
| `trajets` | JOIN | `voyages.trajet_id = trajets.id` |
| `trajet_details` (dÃ©part) | LEFT JOIN | `trajet_details.trajet_id = trajets.id AND ordre = 1` |
| `trajet_details` (arrivÃ©e) | LEFT JOIN | `trajet_details.trajet_id = trajets.id AND ordre = MAX` |
| `arrets` (dÃ©part) | LEFT JOIN | `arrets.id = trajet_details_depart.arret_id` |
| `arrets` (arrivÃ©e) | LEFT JOIN | `arrets.id = trajet_details_arrivee.arret_id` |
| `reservations` | LEFT JOIN (subquery) | `reservations.voyage_id = voyages.id` |
| `details_diffusion` | LEFT JOIN (subquery) | `details_diffusion.voyage_id = voyages.id` |
| `diffusions_publicitaires` | LEFT JOIN | `details_diffusion.diffusion_publicitaire_id = diffusions_publicitaires.id` |
| `paiements_annonceurs` | LEFT JOIN (prorata) | `paiements_annonceurs.annonceur_id = diffusions_publicitaires.annonceur_id` |

---

## 3.4 FONCTIONNALITÃ‰ : CA PUBLICITÃ‰ ET PRORATA

### 3.4.1 Dessin d'Ã©cran - CA PublicitÃ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RAPPORT CHIFFRE D'AFFAIRES PUBLICITÃ‰                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   PÃ©riode: Du [01/01/2026] Au [31/01/2026]        [ğŸ” Filtrer]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸ’° CA TOTAL:        5 000 000 Ar                                              â”‚
â”‚   âœ… PAYÃ‰:            3 200 000 Ar                                              â”‚
â”‚   â³ SOLDE RESTANT:   1 800 000 Ar                                              â”‚
â”‚   ğŸ“Š Nb Annonceurs: 3     ğŸ“º Nb Diffusions: 50                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         DÃ‰TAIL PAR ANNONCEUR                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   ANNONCEUR    â”‚ NB DIFF.  â”‚     CA      â”‚    PAYÃ‰     â”‚       SOLDE         â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ ORANGE         â”‚    25     â”‚ 2 500 000   â”‚ 2 000 000   â”‚   500 000 Ar        â”‚â”‚
â”‚  â”‚ TELMA          â”‚    20     â”‚ 2 000 000   â”‚ 1 000 000   â”‚ 1 000 000 Ar        â”‚â”‚
â”‚  â”‚ AIRTEL         â”‚     5     â”‚   500 000   â”‚   200 000   â”‚   300 000 Ar        â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ TOTAL          â”‚    50     â”‚ 5 000 000   â”‚ 3 200 000   â”‚ 1 800 000 Ar        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4.2 Dessin d'Ã©cran - Prorata

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRORATA DES PAIEMENTS PAR DIFFUSION                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Annonceur: [â–¼ ORANGE_________________________]        [ğŸ” Filtrer]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸ’° Total DÃ»:     2 500 000 Ar                                                 â”‚
â”‚   âœ… Total PayÃ©:   2 000 000 Ar                                                 â”‚
â”‚   ğŸ“Š Taux:         80%                                                          â”‚
â”‚   â³ Solde:          500 000 Ar                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    DÃ‰TAIL PRORATA PAR DIFFUSION                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚         VOYAGE          â”‚ NB DIFF.  â”‚  MONTANT   â”‚ PAYÃ‰ (80%) â”‚   RESTE     â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ TANA-MAHAJANGA (10/01)  â”‚     5     â”‚  500 000   â”‚  400 000   â”‚  100 000    â”‚â”‚
â”‚  â”‚ TANA-TOAMASINA (12/01)  â”‚    10     â”‚ 1 000 000  â”‚  800 000   â”‚  200 000    â”‚â”‚
â”‚  â”‚ TANA-MAHAJANGA (15/01)  â”‚    10     â”‚ 1 000 000  â”‚  800 000   â”‚  200 000    â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ TOTAL                   â”‚    25     â”‚ 2 500 000  â”‚ 2 000 000  â”‚  500 000    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  ğŸ“ Formule: montant_payÃ© = montant_diffusion Ã— (total_payÃ© / total_dÃ»)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4.3 Signature des fonctions

| Fonction | Classe | Emplacement | Signature | Retour |
|----------|--------|-------------|-----------|--------|
| `caReport` | `PubliciteController` | `controller` | `caReport(@RequestParam String from, @RequestParam String to, Model model)` | `String` |
| `caReportJson` | `PubliciteController` | `controller` | `caReportJson(@RequestParam String from, @RequestParam String to)` | `CaResponseDto` |
| `paiementsList` | `PubliciteController` | `controller` | `paiementsList(@RequestParam Long annonceurId, @RequestParam String from, @RequestParam String to, Model model)` | `String` |
| `ajouterPaiement` | `PubliciteController` | `controller` | `ajouterPaiement(@RequestParam Long annonceurId, @RequestParam BigDecimal montantPaye, @RequestParam String datePaiement, RedirectAttributes ra)` | `String` |
| `prorataList` | `PubliciteController` | `controller` | `prorataList(@RequestParam Long annonceurId, Model model)` | `String` |
| `prorataJson` | `PubliciteController` | `controller` | `prorataJson(@RequestParam Long annonceurId)` | `AnnonceurProrataDto` |
| `calculateCaForPeriod` | `PubliciteService` | `service` | `calculateCaForPeriod(LocalDate from, LocalDate to)` | `CaResponseDto` |
| `getDetailedCaWithPayments` | `PubliciteService` | `service` | `getDetailedCaWithPayments(LocalDate from, LocalDate to)` | `List<AnnonceurDetailsDto>` |
| `calculerProrata` | `PubliciteService` | `service` | `calculerProrata(Long annonceurId)` | `AnnonceurProrataDto` |
| `calculerMontantProrataParDiffusion` | `PubliciteService` | `service` | `calculerMontantProrataParDiffusion(BigDecimal montantDiffusion, BigDecimal totalDu, BigDecimal totalPaye)` | `BigDecimal` |
| `calculerProrataAllAnnonceurs` | `PubliciteService` | `service` | `calculerProrataAllAnnonceurs()` | `List<AnnonceurProrataDto>` |
| `savePaiement` | `PubliciteService` | `service` | `savePaiement(Long annonceurId, BigDecimal montantPaye, LocalDate datePaiement)` | `PaiementAnnonceur` |

### 3.4.4 Tables utilisÃ©es

| Table | Description |
|-------|-------------|
| `annonceurs` | Annonceurs |
| `diffusions_publicitaires` | Contrats pub |
| `details_diffusion` | Diffusions effectives |
| `paiements_annonceurs` | Paiements reÃ§us |
| `voyages` | Voyages associÃ©s |

### 3.4.5 Vue : AnnonceurDetailsCaView

| Colonne | Type | Description |
|---------|------|-------------|
| `annonceurId` | Long | ID annonceur |
| `nom` | String | Nom annonceur |
| `ca` | BigDecimal | CA total |
| `nbDiffusions` | Long | Nombre diffusions |
| `avgPrix` | BigDecimal | Prix moyen |

**Table principale:** `diffusions_publicitaires`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `annonceurs` | INNER JOIN | `diffusions_publicitaires.annonceur_id = annonceurs.id` |
| `details_diffusion` | LEFT JOIN | `details_diffusion.diffusion_publicitaire_id = diffusions_publicitaires.id` |

### 3.4.6 Vue : DiffusionDetailView (pour prorata)

| Colonne | Type | Description |
|---------|------|-------------|
| `diffusionId` | Long | ID diffusion |
| `voyageId` | Long | ID voyage |
| `trajetNom` | String | Nom trajet |
| `dateDiffusion` | LocalDate | Date diffusion |
| `nbDiffusions` | Integer | Nombre diffusions |
| `montantTotal` | BigDecimal | Montant total |

**Table principale:** `details_diffusion`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `diffusions_publicitaires` | INNER JOIN | `details_diffusion.diffusion_publicitaire_id = diffusions_publicitaires.id` |
| `voyages` | INNER JOIN | `details_diffusion.voyage_id = voyages.id` |
| `trajets` | INNER JOIN | `voyages.trajet_id = trajets.id` |

---

## 3.5 FONCTIONNALITÃ‰ : GESTION DES PRODUITS EXTRA

### 3.5.1 Dessin d'Ã©cran - Liste produits

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           PRODUITS EXTRA                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               [+ Nouveau Produit]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ID â”‚        LIBELLÃ‰           â”‚  PRIX ACTUEL    â”‚          ACTIONS           â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚  1 â”‚ Eau minÃ©rale 50cl        â”‚    1 500 Ar     â”‚ [âœï¸] [ğŸ“‹ Historique] [ğŸ—‘ï¸]  â”‚â”‚
â”‚  â”‚  2 â”‚ Biscuits                 â”‚    2 000 Ar     â”‚ [âœï¸] [ğŸ“‹ Historique] [ğŸ—‘ï¸]  â”‚â”‚
â”‚  â”‚  3 â”‚ Jus de fruits            â”‚    3 000 Ar     â”‚ [âœï¸] [ğŸ“‹ Historique] [ğŸ—‘ï¸]  â”‚â”‚
â”‚  â”‚  4 â”‚ Sandwich                 â”‚    5 000 Ar     â”‚ [âœï¸] [ğŸ“‹ Historique] [ğŸ—‘ï¸]  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5.2 Dessin d'Ã©cran - Historique prix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MODIFIER PRODUIT                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   LibellÃ© *            [Eau minÃ©rale 50cl_________________________]             â”‚
â”‚   Prix actuel:         1 500 Ar                                                  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
â”‚   MODIFIER LE PRIX                                                               â”‚
â”‚   Nouveau prix         [__________] Ar                                           â”‚
â”‚   Date d'effet         [____/____/______]                                       â”‚
â”‚                          [Annuler]    [ğŸ’¾ Enregistrer]                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       HISTORIQUE DES PRIX                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚   DATE EFFECTIVE  â”‚      PRIX       â”‚                                        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                        â”‚
â”‚  â”‚   01/01/2026      â”‚    1 500 Ar     â”‚  (actuel)                              â”‚
â”‚  â”‚   01/07/2025      â”‚    1 200 Ar     â”‚                                        â”‚
â”‚  â”‚   01/01/2025      â”‚    1 000 Ar     â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5.3 Signature des fonctions

| Fonction | Classe | Emplacement | Signature | Retour |
|----------|--------|-------------|-----------|--------|
| `list` | `ProduitController` | `controller` | `list(Model model)` | `String` |
| `showCreateForm` | `ProduitController` | `controller` | `showCreateForm(Model model)` | `String` |
| `save` | `ProduitController` | `controller` | `save(@RequestParam String libelle, @RequestParam BigDecimal prix, RedirectAttributes ra)` | `String` |
| `showEditForm` | `ProduitController` | `controller` | `showEditForm(@PathVariable Long id, Model model)` | `String` |
| `update` | `ProduitController` | `controller` | `update(@PathVariable Long id, @RequestParam String libelle, @RequestParam BigDecimal nouveauPrix, @RequestParam LocalDate dateEffective, RedirectAttributes ra)` | `String` |
| `delete` | `ProduitController` | `controller` | `delete(@PathVariable Long id, RedirectAttributes ra)` | `String` |
| `createWithPrice` | `ProduitService` | `service` | `createWithPrice(String libelle, BigDecimal prix)` | `Produit` |
| `updatePrice` | `ProduitService` | `service` | `updatePrice(Long produitId, BigDecimal nouveauPrix, LocalDate dateEffective)` | `void` |
| `getPrixActuel` | `ProduitService` | `service` | `getPrixActuel(Long produitId)` | `BigDecimal` |
| `getPrixAtDate` | `ProduitService` | `service` | `getPrixAtDate(Long produitId, LocalDate date)` | `BigDecimal` |
| `getHistoriquePrix` | `ProduitService` | `service` | `getHistoriquePrix(Long produitId)` | `List<PrixProduit>` |

### 3.5.4 Tables utilisÃ©es

| Table | Description |
|-------|-------------|
| `produits` | Produits |
| `prix_produits` | Historique prix |

### 3.5.5 Vue : PrixProduitHistorique

| Colonne | Type | Description |
|---------|------|-------------|
| `id` | Long | ID prix |
| `produit_id` | Long | ID produit |
| `prix` | BigDecimal | Prix |
| `date_effective` | LocalDate | Date d'effet |

**Table principale:** `prix_produits`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `produits` | INNER JOIN | `prix_produits.produit_id = produits.id` |

---

## 3.6 FONCTIONNALITÃ‰ : VENTES PRODUITS

### 3.6.1 Dessin d'Ã©cran - Liste ventes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           VENTES PRODUITS EXTRA                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PÃ©riode: Du [01/01/2026] Au [31/01/2026]  [Filtrer]  [+ Nouvelle Vente] [ğŸ“Š]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸ’° CA TOTAL PÃ‰RIODE: 250 000 Ar                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ID â”‚    DATE    â”‚    TOTAL    â”‚    PAYÃ‰     â”‚    RESTE    â”‚     ACTIONS     â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚  1 â”‚ 10/01/2026 â”‚  25 000 Ar  â”‚  25 000 Ar  â”‚      0 Ar   â”‚  [ğŸ‘ï¸]   [ğŸ—‘ï¸]    â”‚â”‚
â”‚  â”‚  2 â”‚ 12/01/2026 â”‚  15 000 Ar  â”‚  10 000 Ar  â”‚   5 000 Ar  â”‚  [ğŸ‘ï¸]   [ğŸ—‘ï¸]    â”‚â”‚
â”‚  â”‚  3 â”‚ 15/01/2026 â”‚  30 000 Ar  â”‚       0 Ar  â”‚  30 000 Ar  â”‚  [ğŸ‘ï¸]   [ğŸ—‘ï¸]    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6.2 Dessin d'Ã©cran - Nouvelle vente

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           NOUVELLE VENTE                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Date de vente:  [15/01/2026]                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           PRODUITS                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚        PRODUIT           â”‚   PRIX UNIT.    â”‚   QUANTITÃ‰   â”‚   SOUS-TOTAL    â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ [â–¼ Eau minÃ©rale 50cl___] â”‚    1 500 Ar     â”‚ [____5____]  â”‚     7 500 Ar    â”‚â”‚
â”‚  â”‚ [â–¼ Biscuits____________] â”‚    2 000 Ar     â”‚ [____3____]  â”‚     6 000 Ar    â”‚â”‚
â”‚  â”‚ [â–¼ Sandwich____________] â”‚    5 000 Ar     â”‚ [____2____]  â”‚    10 000 Ar    â”‚â”‚
â”‚  â”‚ [+ Ajouter une ligne]    â”‚                 â”‚              â”‚                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚   ğŸ’° TOTAL: 23 500 Ar                                                           â”‚
â”‚                              [Annuler]    [ğŸ’¾ Enregistrer]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6.3 Signature des fonctions

| Fonction | Classe | Emplacement | Signature | Retour |
|----------|--------|-------------|-----------|--------|
| `list` | `VenteProduitController` | `controller` | `list(@RequestParam LocalDate from, @RequestParam LocalDate to, Model model)` | `String` |
| `showCreateForm` | `VenteProduitController` | `controller` | `showCreateForm(Model model)` | `String` |
| `save` | `VenteProduitController` | `controller` | `save(@RequestParam LocalDate dateVente, @RequestParam List<Long> produitIds, @RequestParam List<Integer> quantites, RedirectAttributes ra)` | `String` |
| `view` | `VenteProduitController` | `controller` | `view(@PathVariable Long id, Model model)` | `String` |
| `enregistrerPaiement` | `VenteProduitController` | `controller` | `enregistrerPaiement(@PathVariable Long venteId, @RequestParam BigDecimal montant, @RequestParam LocalDate datePaiement, RedirectAttributes ra)` | `String` |
| `delete` | `VenteProduitController` | `controller` | `delete(@PathVariable Long id, RedirectAttributes ra)` | `String` |
| `rapport` | `VenteProduitController` | `controller` | `rapport(@RequestParam LocalDate from, @RequestParam LocalDate to, Model model)` | `String` |
| `createVente` | `VenteProduitService` | `service` | `createVente(LocalDate dateVente, List<VenteDetailDTO> details)` | `VenteProduit` |
| `getMontantTotal` | `VenteProduitService` | `service` | `getMontantTotal(Long venteId)` | `BigDecimal` |
| `getMontantPaye` | `VenteProduitService` | `service` | `getMontantPaye(Long venteId)` | `BigDecimal` |
| `getResteAPayer` | `VenteProduitService` | `service` | `getResteAPayer(Long venteId)` | `BigDecimal` |
| `getTotalCA` | `VenteProduitService` | `service` | `getTotalCA(LocalDate from, LocalDate to)` | `BigDecimal` |
| `getTotalCAPaye` | `VenteProduitService` | `service` | `getTotalCAPaye(LocalDate from, LocalDate to)` | `BigDecimal` |

### 3.6.4 Tables utilisÃ©es

| Table | Description |
|-------|-------------|
| `ventes_produits` | En-tÃªtes ventes |
| `vente_produit_details` | Lignes de vente |
| `produits` | Produits |
| `prix_produits` | Prix Ã  la date |
| `paiements_produits` | Paiements |

### 3.6.5 Vue : VenteAvecTotaux

| Colonne | Type | Description |
|---------|------|-------------|
| `id` | Long | ID vente |
| `date_vente` | LocalDate | Date vente |
| `montant_total` | BigDecimal | Total calculÃ© |
| `montant_paye` | BigDecimal | Somme paiements |
| `reste_a_payer` | BigDecimal | DiffÃ©rence |

**Table principale:** `ventes_produits`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `vente_produit_details` | LEFT JOIN | `vente_produit_details.vente_id = ventes_produits.id` |
| `paiements_produits` | LEFT JOIN | `paiements_produits.vente_id = ventes_produits.id` |

---

## 3.7 FONCTIONNALITÃ‰ : GESTION DES VOYAGES

### 3.7.1 Dessin d'Ã©cran - Liste

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           LISTE DES VOYAGES                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” Recherche: [________________________]         [+ Nouveau Voyage]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ID â”‚    TAXI     â”‚    CHAUFFEUR     â”‚     TRAJET      â”‚   DÃ‰PART  â”‚ ACTIONS â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚  1 â”‚ 1234 TAB    â”‚ ANDRIAMAHEFA P.  â”‚ TANA - MAHAJANGAâ”‚ 15/01 08h â”‚  [âœï¸]   â”‚â”‚
â”‚  â”‚  2 â”‚ 5678 TBC    â”‚ RANDRIANASOLO H. â”‚ TANA - TOAMASINAâ”‚ 15/01 06h â”‚  [âœï¸]   â”‚â”‚
â”‚  â”‚  3 â”‚ 9012 TBD    â”‚ ANDRIAMAHEFA P.  â”‚ TANA - FIANARAN.â”‚ 16/01 07h â”‚  [âœï¸]   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  âš ï¸ Un taxi ou chauffeur ne peut pas Ãªtre sur 2 voyages Ã  la mÃªme date/heure   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.7.2 Dessin d'Ã©cran - Formulaire

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CRÃ‰ER / MODIFIER VOYAGE                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Taxi-Brousse *       [â–¼ SÃ©lectionner_____________________]                    â”‚
â”‚                           â”œâ”€ 1234 TAB (VIP - 18 places)                          â”‚
â”‚                           â”œâ”€ 5678 TBC (Standard - 22 places)                     â”‚
â”‚                           â””â”€ 9012 TBD (Standard - 25 places)                     â”‚
â”‚                                                                                  â”‚
â”‚   Chauffeur *          [â–¼ SÃ©lectionner_____________________]                    â”‚
â”‚                           â”œâ”€ ANDRIAMAHEFA Paul                                   â”‚
â”‚                           â””â”€ RANDRIANASOLO Hery                                  â”‚
â”‚                                                                                  â”‚
â”‚   Trajet *             [â–¼ SÃ©lectionner_____________________]                    â”‚
â”‚                           â”œâ”€ TANA - MAHAJANGA (570 km)                           â”‚
â”‚                           â”œâ”€ TANA - TOAMASINA (355 km)                           â”‚
â”‚                           â””â”€ TANA - FIANARANTSOA (415 km)                        â”‚
â”‚                                                                                  â”‚
â”‚   Date et heure de dÃ©part *  [____/____/______]  [____:____]                    â”‚
â”‚                                                                                  â”‚
â”‚                          [Annuler]    [ğŸ’¾ Enregistrer]                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   âš ï¸ RÃˆGLES MÃ‰TIER:                                                             â”‚
â”‚   â€¢ Un taxi ne peut pas Ãªtre planifiÃ© pour 2 voyages Ã  la mÃªme date/heure      â”‚
â”‚   â€¢ Un chauffeur ne peut pas Ãªtre planifiÃ© pour 2 voyages Ã  la mÃªme date/heure â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.7.3 Signature des fonctions

| Fonction | Classe | Emplacement | Signature | Retour |
|----------|--------|-------------|-----------|--------|
| `list` | `VoyageController` | `controller` | `list(Model model, @RequestParam(name="q") String q)` | `String` |
| `createForm` | `VoyageController` | `controller` | `createForm(Model model)` | `String` |
| `save` | `VoyageController` | `controller` | `save(Voyage voyage, BindingResult result, Model model, RedirectAttributes ra)` | `String` |
| `editForm` | `VoyageController` | `controller` | `editForm(@PathVariable Long id, Model model)` | `String` |
| `findByTaxiBrousse_IdAndDateDepart` | `VoyageRepository` | `repository` | `findByTaxiBrousse_IdAndDateDepart(Long taxiBrousseId, LocalDateTime dateDepart)` | `List<Voyage>` |
| `findByChauffeur_IdAndDateDepart` | `VoyageRepository` | `repository` | `findByChauffeur_IdAndDateDepart(Long chauffeurId, LocalDateTime dateDepart)` | `List<Voyage>` |
| `calculateCAMaxByVoyage` | `VoyageRepository` | `repository` | `calculateCAMaxByVoyage(@Param("voyageId") Long voyageId)` | `BigDecimal` |

### 3.7.4 Tables utilisÃ©es

| Table | Description |
|-------|-------------|
| `voyages` | Voyages |
| `taxi_brousses` | Taxis |
| `chauffeurs` | Chauffeurs |
| `trajets` | Trajets |

### 3.7.5 Vue : VoyageListView

| Colonne | Type | Description |
|---------|------|-------------|
| `id` | Long | ID voyage |
| `immatriculation` | String | Immatriculation |
| `chauffeur_nom` | String | Nom chauffeur |
| `trajet_nom` | String | Nom trajet |
| `date_depart` | LocalDateTime | Date dÃ©part |

**Table principale:** `voyages`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `taxi_brousses` | INNER JOIN | `voyages.taxi_brousse_id = taxi_brousses.id` |
| `chauffeurs` | INNER JOIN | `voyages.chauffeur_id = chauffeurs.id` |
| `personnes` | INNER JOIN | `chauffeurs.personne_id = personnes.id` |
| `trajets` | INNER JOIN | `voyages.trajet_id = trajets.id` |

---

## 3.8 FONCTIONNALITÃ‰ : GESTION DES TAXI-BROUSSES

### 3.8.1 Dessin d'Ã©cran

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CRÃ‰ER / MODIFIER TAXI-BROUSSE                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Immatriculation *    [____________________________________]                    â”‚
â”‚                                                                                  â”‚
â”‚   CatÃ©gorie *          [â–¼ SÃ©lectionner_____________________]                    â”‚
â”‚                           â”œâ”€ Standard                                            â”‚
â”‚                           â””â”€ VIP                                                 â”‚
â”‚                                                                                  â”‚
â”‚   Charge Max (kg)      [________]                                                â”‚
â”‚                                                                                  â”‚
â”‚   Consommation (L/100km) [________]                                              â”‚
â”‚                                                                                  â”‚
â”‚   Disposition des places:                                                        â”‚
â”‚   [xxPP/PPPP/SSSS/SSSS/SSSSS___________________________________]                â”‚
â”‚                                                                                  â”‚
â”‚   ğŸ’¡ LÃ©gende: x=couloir, P=Premium, S=Standard, V=VIP                           â”‚
â”‚   ğŸ“Š Nombre de places calculÃ©: 18                                                â”‚
â”‚                                                                                  â”‚
â”‚                          [Annuler]    [ğŸ’¾ Enregistrer]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.8.2 Signature des fonctions

| Fonction | Classe | Emplacement | Signature | Retour |
|----------|--------|-------------|-----------|--------|
| `list` | `TaxiBrousseController` | `controller` | `list(Model model, @RequestParam(name="q") String q)` | `String` |
| `createForm` | `TaxiBrousseController` | `controller` | `createForm(Model model)` | `String` |
| `save` | `TaxiBrousseController` | `controller` | `save(TaxiBrousse taxi, RedirectAttributes ra)` | `String` |
| `editForm` | `TaxiBrousseController` | `controller` | `editForm(@PathVariable Long id, Model model)` | `String` |

### 3.8.3 Tables utilisÃ©es

| Table | Description |
|-------|-------------|
| `taxi_brousses` | VÃ©hicules |
| `categories_tb` | CatÃ©gories (VIP, Standard) |
| `categories_places` | Types de places par taxi |

### 3.8.4 Vue : TaxiBrousseListView

| Colonne | Type | Description |
|---------|------|-------------|
| `id` | Long | ID taxi |
| `immatriculation` | String | Immatriculation |
| `categorie_nom` | String | Nom catÃ©gorie |
| `nbr_places` | Integer | Nombre places |
| `charge_max` | BigDecimal | Charge max |
| `consommation` | BigDecimal | Consommation |

**Table principale:** `taxi_brousses`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `categories_tb` | LEFT JOIN | `taxi_brousses.categorie_id = categories_tb.id` |

---

## 3.9 FONCTIONNALITÃ‰ : GESTION DES PAIEMENTS

### 3.9.1 Dessin d'Ã©cran

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CRÃ‰ER / MODIFIER PAIEMENT                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   RÃ©servation *        [â–¼ SÃ©lectionner________________________________]         â”‚
â”‚                           â”œâ”€ #1 - RAKOTO Jean - 150 000 Ar                      â”‚
â”‚                           â”‚      (PayÃ©: 75 000 / Reste: 75 000)                  â”‚
â”‚                           â”œâ”€ #2 - RABE Marie - 85 000 Ar                        â”‚
â”‚                           â”‚      (PayÃ©: 85 000 / Reste: 0) âœ…                    â”‚
â”‚                           â””â”€ #3 - LOVA Andria - 240 000 Ar                      â”‚
â”‚                                  (PayÃ©: 0 / Reste: 240 000)                      â”‚
â”‚                                                                                  â”‚
â”‚   Montant Ã  payer *    [________________] Ar                                     â”‚
â”‚                                                                                  â”‚
â”‚   Date de paiement *   [____/____/______]  [____:____]                          â”‚
â”‚                                                                                  â”‚
â”‚   â„¹ï¸ Reste Ã  payer pour cette rÃ©servation: 75 000 Ar                            â”‚
â”‚                                                                                  â”‚
â”‚                          [Annuler]    [ğŸ’¾ Enregistrer]                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   âš ï¸ RÃˆGLES:                                                                     â”‚
â”‚   â€¢ Le paiement ne peut pas dÃ©passer le montant total de la rÃ©servation         â”‚
â”‚   â€¢ Le paiement doit Ãªtre effectuÃ© au plus tard le jour du dÃ©part               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.9.2 Signature des fonctions

| Fonction | Classe | Emplacement | Signature | Retour |
|----------|--------|-------------|-----------|--------|
| `list` | `PaiementController` | `controller` | `list(Model model, @RequestParam(name="q") String q)` | `String` |
| `createForm` | `PaiementController` | `controller` | `createForm(Model model)` | `String` |
| `save` | `PaiementController` | `controller` | `save(Paiement paiement, @RequestParam String datePaiementStr, RedirectAttributes ra)` | `String` |
| `editForm` | `PaiementController` | `controller` | `editForm(@PathVariable Long id, Model model)` | `String` |
| `delete` | `PaiementController` | `controller` | `delete(@PathVariable Long id)` | `String` |

### 3.9.3 Tables utilisÃ©es

| Table | Description |
|-------|-------------|
| `paiements` | Paiements |
| `reservations` | RÃ©servations |

### 3.9.4 Vue : PaiementListView

| Colonne | Type | Description |
|---------|------|-------------|
| `id` | Long | ID paiement |
| `client_nom` | String | Nom client |
| `reservation_id` | Long | ID rÃ©servation |
| `montant_total` | BigDecimal | Montant rÃ©servation |
| `montant_paye` | BigDecimal | Montant payÃ© |
| `date_paiement` | LocalDateTime | Date paiement |

**Table principale:** `paiements`

**Tables annexes:**

| Table annexe | Type liaison | Colonne liaison |
|--------------|--------------|-----------------|
| `reservations` | INNER JOIN | `paiements.reservation_id = reservations.id` |
| `clients` | INNER JOIN | `reservations.client_id = clients.id` |
| `personnes` | INNER JOIN | `clients.personne_id = personnes.id` |

---

# ğŸ“Š RÃ‰CAPITULATIF

| # | FonctionnalitÃ© | Nb Tables | Nb Vues | Nb Fonctions |
|---|----------------|-----------|---------|--------------|
| 1 | RÃ©servations | 5 | 1 | 8 |
| 2 | Recherche Voyages | 6 | 1 | 1 |
| 3 | Rapport CA Global | 10 | 3 | 7 |
| 4 | CA PublicitÃ© & Prorata | 5 | 2 | 12 |
| 5 | Gestion Produits | 2 | 1 | 11 |
| 6 | Ventes Produits | 5 | 1 | 13 |
| 7 | Gestion Voyages | 4 | 1 | 7 |
| 8 | Gestion Taxi-Brousses | 3 | 1 | 4 |
| 9 | Gestion Paiements | 2 | 1 | 5 |
| **TOTAL** | | **21 tables** | **12 vues** | **68+ fonctions** |

---

**Document gÃ©nÃ©rÃ© le**: 30/01/2026  
**Projet**: Gestion Taxi-Brousse - Mme Baovola - ITU S5
